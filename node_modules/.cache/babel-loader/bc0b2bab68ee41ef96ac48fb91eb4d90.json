{"ast":null,"code":"import \"antd/es/popover/style/css\";\nimport _Popover from \"antd/es/popover\";\nimport \"antd/es/progress/style/css\";\nimport _Progress from \"antd/es/progress\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nvar _jsxFileName = \"/Users/timyang/front-end/front_end_project/personal-app-project/personal-app/src/pages/Register/index.js\";\nimport React, { useState } from 'react';\nimport InputItem from '../../components/InputItem';\nimport styles from './index.module.less';\nconst passwordStatusMap = {\n  ok: /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.success,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 9\n    }\n  }, \"strength: strong\"),\n  pass: /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.warning,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }\n  }, \"strength: medium\"),\n  poor: /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 9\n    }\n  }, \"strength: weak\")\n};\nconst passwordProgressMap = {\n  ok: 'success',\n  pass: 'normal',\n  poor: 'exception'\n};\n\nconst Register = () => {\n  const [visible, setVisible] = useState(false);\n  const [popover, setPopover] = useState(false);\n\n  const [form] = _Form.useForm();\n\n  const handleFinish = values => {\n    console.log(values);\n  };\n\n  const checkConfirm = (_, value) => {\n    const promise = Promise;\n\n    if (value && value !== form.getFieldValue('password')) {\n      return promise.reject('passwords do not match!');\n    }\n\n    return promise.resolve();\n  };\n\n  const getPasswordStatus = () => {\n    const value = form.getFieldValue('password');\n\n    if (value && value.length > 9) {\n      return 'ok';\n    }\n\n    if (value && value.length > 5) {\n      return 'pass';\n    }\n\n    return 'poor';\n  };\n\n  const checkPassword = (_, value) => {\n    const promise = Promise;\n\n    if (!value) {\n      setVisible(!!value);\n      return promise.reject('please input password');\n    }\n\n    if (!visible) {\n      setVisible(!!value);\n    }\n\n    setPopover(!popover);\n\n    if (value && form.getFieldValue('confirm')) {\n      form.validateFields(['confirm']);\n    }\n\n    return promise.resolve();\n  };\n\n  const renderPasswordProgress = () => {\n    const value = form.getFieldValue('password');\n    const passwordStatus = getPasswordStatus();\n    return value && value.length && /*#__PURE__*/React.createElement(\"div\", {\n      className: styles[`progress-${passwordStatus}`],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(_Progress, {\n      className: styles.progress,\n      status: passwordProgressMap[passwordStatus],\n      strokeWidth: 6,\n      percent: value.length * 10 > 100 ? 100 : value.length * 10,\n      showInfo: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.registerContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Form, {\n    form: form,\n    onFinish: handleFinish,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InputItem, {\n    name: \"mail\",\n    placeholder: \"mailbox\",\n    size: \"large\",\n    rules: [{\n      required: true,\n      message: \"Please input mail!\"\n    }, {\n      type: 'email',\n      message: 'Please input mail with right format!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(_Popover, {\n    content: visible && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 29\n      }\n    }, passwordStatusMap[getPasswordStatus()], renderPasswordProgress(), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 33\n      }\n    }, \"Please use at least 6 characters. Please avoid easy passwords.\")),\n    overlayStyle: {\n      width: 240\n    },\n    placement: \"right\",\n    visible: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(InputItem, {\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"at least 6 characters\",\n    size: \"large\",\n    rules: [{\n      validator: checkPassword\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(InputItem, {\n    name: \"confirm\",\n    type: \"password\",\n    placeholder: \"confirm password\",\n    size: \"large\",\n    rules: [{\n      required: true,\n      message: \"Please confirm password\"\n    }, {\n      validator: checkConfirm\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(InputItem, {\n    name: \"mobile\",\n    placeholder: \"phone number\",\n    size: \"large\",\n    rules: [{\n      required: true,\n      message: \"Please input phone number\"\n    }, {\n      pattern: /^\\d{11}$/,\n      message: \"Incorrect phone format!\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default Register;","map":{"version":3,"sources":["/Users/timyang/front-end/front_end_project/personal-app-project/personal-app/src/pages/Register/index.js"],"names":["React","useState","InputItem","styles","passwordStatusMap","ok","success","pass","warning","poor","error","passwordProgressMap","Register","visible","setVisible","popover","setPopover","form","useForm","handleFinish","values","console","log","checkConfirm","_","value","promise","Promise","getFieldValue","reject","resolve","getPasswordStatus","length","checkPassword","validateFields","renderPasswordProgress","passwordStatus","progress","registerContainer","register","required","message","type","width","validator","pattern"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Form, Popover, Progress } from 'antd';\nimport InputItem from '../../components/InputItem';\nimport styles from './index.module.less';\n\nconst passwordStatusMap = {\n    ok: (\n        <div className={styles.success}>\n            strength: strong \n        </div>\n    ),\n    pass: (\n        <div className={styles.warning}>\n            strength: medium \n        </div>\n    ),\n    poor: (\n        <div className={styles.error}>\n            strength: weak \n        </div>\n    ),\n}\n\nconst passwordProgressMap = {\n    ok: 'success',\n    pass: 'normal',\n    poor: 'exception',\n}\n\nconst Register = () => {\n    const [visible, setVisible] = useState(false);\n    const [popover, setPopover] = useState(false);\n    const [form] = Form.useForm();\n    const handleFinish = (values) => {\n        console.log(values);\n    }\n    const checkConfirm = (_, value) => {\n        const promise = Promise;\n        if (value && value !== form.getFieldValue('password')) {\n            return promise.reject('passwords do not match!');\n        }\n        return promise.resolve();\n    }\n\n    const getPasswordStatus = () => {\n        const value = form.getFieldValue('password');\n        if (value && value.length > 9) {\n            return 'ok';\n        }\n        if (value && value.length > 5) {\n            return 'pass';\n        }\n        return 'poor';\n    }\n    const checkPassword = (_, value) => {\n        const promise = Promise;\n        if (!value) {\n            setVisible(!!value);\n            return promise.reject('please input password')\n        }\n        if (!visible) {\n            setVisible(!!value);\n        }\n        setPopover(!popover);\n        if (value && form.getFieldValue('confirm')) {\n            form.validateFields(['confirm']);\n        }\n        return promise.resolve();\n    }\n\n    const renderPasswordProgress = () => {\n        const value = form.getFieldValue('password');\n        const passwordStatus = getPasswordStatus();\n        return value && value.length && (\n            <div className={styles[`progress-${passwordStatus}`]}>\n                <Progress\n                    className={styles.progress}\n                    status={passwordProgressMap[passwordStatus]}\n                    strokeWidth={6}\n                    percent={value.length * 10 > 100 ? 100 : value.length * 10}\n                    showInfo={false}\n                />\n            </div>\n        )\n    }\n\n    return (\n        <div className={styles.registerContainer}>\n            <div className={styles.register}>\n                <Form\n                    form={form}\n                    onFinish={handleFinish}\n                >\n                    <InputItem\n                        name=\"mail\"\n                        placeholder=\"mailbox\"\n                        size=\"large\"\n                        rules={[\n                            {\n                                required: true,\n                                message: \"Please input mail!\"\n                            },\n                            {\n                                type: 'email',\n                                message: 'Please input mail with right format!'\n                            },\n                        ]}\n                    />\n                    <Popover\n                        content={\n                            visible && (\n                            <div>\n                                {passwordStatusMap[getPasswordStatus()]}\n                                {renderPasswordProgress()}\n                                <div>\n                                    Please use at least 6 characters. Please avoid easy passwords.\n                                </div>\n                            </div>\n                            )\n                        }\n                        overlayStyle={{ width: 240 }}\n                        placement=\"right\"\n                        visible={true}\n\n                    >\n                        <InputItem\n                            name=\"password\"\n                            type=\"password\"\n                            placeholder=\"at least 6 characters\"\n                            size=\"large\"\n                            rules={[\n                                {\n                                    validator: checkPassword,\n                                }\n                            ]}\n                        />\n                    </Popover>\n                    <InputItem\n                        name=\"confirm\"\n                        type=\"password\"\n                        placeholder=\"confirm password\"\n                        size=\"large\"\n                        rules={[\n                            {\n                                required: true,\n                                message: \"Please confirm password\"\n                            },\n                            {\n                                validator: checkConfirm,\n                            }\n                        ]}\n                    />\n                    <InputItem\n                        name=\"mobile\"\n                        placeholder=\"phone number\"\n                        size=\"large\"\n                        rules={[\n                            {\n                                required: true,\n                                message: \"Please input phone number\"\n                            },\n                            {\n                                pattern: /^\\d{11}$/,\n                                message: \"Incorrect phone format!\"\n\n                            }\n                        ]}\n                    />\n                </Form>\n            </div>\n        </div>\n    )\n};\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}