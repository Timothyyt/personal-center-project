{"ast":null,"code":"import \"antd/es/popover/style/css\";\nimport _Popover from \"antd/es/popover\";\nimport \"antd/es/progress/style/css\";\nimport _Progress from \"antd/es/progress\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nvar _jsxFileName = \"/Users/timyang/front-end/front_end_project/personal-app-project/personal-app/src/pages/Register/index.js\";\nimport React, { useState } from 'react';\nimport InputItem from '../../components/InputItem';\nimport styles from './index.module.less';\n\nconst Register = () => {\n  const [visible, setVisible] = useState(false);\n  const [popover, setPopover] = useState(false);\n\n  const [form] = _Form.useForm();\n\n  const handleFinish = values => {\n    console.log(values);\n  };\n\n  const checkConfirm = (_, value) => {\n    const promise = Promise;\n\n    if (value && value !== form.getFieldValue('password')) {\n      return promise.reject('passwords do not match!');\n    }\n\n    return promise.resolve();\n  };\n\n  const checkPassword = (_, value) => {\n    const promise = Promise;\n\n    if (!value) {\n      setVisible(!!value);\n      return promise.reject('please input password');\n    }\n\n    if (!visible) {\n      setVisible(!!value);\n    }\n\n    setPopover(!pop);\n\n    if (value && form.getFieldValue('confirm')) {\n      form.validateFields(['confirm']);\n    }\n\n    return promise.resolve();\n  };\n\n  const renderPasswordProgress = () => {\n    const value = form.getFieldValue('password');\n    return value && value.length && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(_Progress, {\n      strokeWidth: 6,\n      percent: value.length * 10 > 100 ? 100 : value.length * 10,\n      showInfo: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.registerContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Form, {\n    form: form,\n    onFinish: handleFinish,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InputItem, {\n    name: \"mail\",\n    placeholder: \"mailbox\",\n    size: \"large\",\n    rules: [{\n      required: true,\n      message: \"Please input mail!\"\n    }, {\n      type: 'email',\n      message: 'Please input mail with right format!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(_Popover, {\n    content: visible && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 40\n      }\n    }, renderPasswordProgress(), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 33\n      }\n    }, \"Please use at least 6 characters. Please avoid easy passwords.\")),\n    overlayStyle: {\n      width: 240\n    },\n    placement: \"right\",\n    visible: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(InputItem, {\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"at least 6 characters\",\n    size: \"large\",\n    rules: [{\n      validator: checkPassword\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(InputItem, {\n    name: \"confirm\",\n    type: \"password\",\n    placeholder: \"confirm password\",\n    size: \"large\",\n    rules: [{\n      required: true,\n      message: \"Please confirm password\"\n    }, {\n      validator: checkConfirm\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default Register;","map":{"version":3,"sources":["/Users/timyang/front-end/front_end_project/personal-app-project/personal-app/src/pages/Register/index.js"],"names":["React","useState","InputItem","styles","Register","visible","setVisible","popover","setPopover","form","useForm","handleFinish","values","console","log","checkConfirm","_","value","promise","Promise","getFieldValue","reject","resolve","checkPassword","pop","validateFields","renderPasswordProgress","length","registerContainer","register","required","message","type","width","validator"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Form, Popover, Progress } from 'antd';\nimport InputItem from '../../components/InputItem';\nimport styles from './index.module.less';\n\nconst Register = () => {\n    const [visible, setVisible] = useState(false);\n    const [popover, setPopover] = useState(false);\n    const [form] = Form.useForm();\n    const handleFinish = (values) => {\n        console.log(values);\n    }\n    const checkConfirm = (_, value) => {\n        const promise = Promise;\n        if (value && value !== form.getFieldValue('password')) {\n            return promise.reject('passwords do not match!');\n        }\n        return promise.resolve();\n    }\n\n    const checkPassword = (_, value) => {\n        const promise = Promise;\n        if (!value) {\n            setVisible(!!value);\n            return promise.reject('please input password')\n        }\n        if (!visible) {\n            setVisible(!!value);\n        }\n        setPopover(!pop)\n        if (value && form.getFieldValue('confirm')) {\n            form.validateFields(['confirm']);\n        }\n        return promise.resolve();\n    }\n\n    const renderPasswordProgress = () => {\n        const value = form.getFieldValue('password');\n        return value && value.length && (\n            <div>\n                <Progress\n                    strokeWidth={6}\n                    percent={value.length * 10 > 100 ? 100 : value.length * 10}\n                    showInfo={false}\n                />\n            </div>\n        )\n    }\n\n    return (\n        <div className={styles.registerContainer}>\n            <div className={styles.register}>\n                <Form\n                    form={form}\n                    onFinish={handleFinish}\n                >\n                    <InputItem\n                        name=\"mail\"\n                        placeholder=\"mailbox\"\n                        size=\"large\"\n                        rules={[\n                            {\n                                required: true,\n                                message: \"Please input mail!\"\n                            },\n                            {\n                                type: 'email',\n                                message: 'Please input mail with right format!'\n                            },\n                        ]}\n                    />\n                    <Popover\n                        content={\n                            visible && <div>\n                                {renderPasswordProgress()}\n                                <div>\n                                    Please use at least 6 characters. Please avoid easy passwords.\n                                </div>\n                            </div>\n                        }\n                        overlayStyle={{ width: 240 }}\n                        placement=\"right\"\n                        visible={true}\n\n                    >\n                        <InputItem\n                            name=\"password\"\n                            type=\"password\"\n                            placeholder=\"at least 6 characters\"\n                            size=\"large\"\n                            rules={[\n                                {\n                                    validator: checkPassword,\n                                }\n                            ]}\n                        />\n                    </Popover>\n                    <InputItem\n                        name=\"confirm\"\n                        type=\"password\"\n                        placeholder=\"confirm password\"\n                        size=\"large\"\n                        rules={[\n                            {\n                                required: true,\n                                message: \"Please confirm password\"\n                            },\n                            {\n                                validator: checkConfirm,\n                            }\n                        ]}\n                    />\n                </Form>\n            </div>\n        </div>\n    )\n};\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}